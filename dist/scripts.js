let pokemonRepository=function(){let e=[];function t(t){"object"==typeof t&&"name"in t?e.push(t):console.log("pokemon is not correct")}function n(){return e}function o(e){l(e).then(function(){var t;t=e,a.style.display="block",document.getElementById("modalImg").src=t.imageUrl,document.getElementById("modalTitle").innerText=t.name,document.getElementById("modalTxt").innerText="Types: "+t.types.map(e=>e.type.name)+"\n Height: "+t.height,console.log(e.name)})}function l(e){return fetch(e.detailsUrl).then(function(e){return e.json()}).then(function(t){e.imageUrl=t.sprites.front_default,e.height=t.height,e.types=t.types}).catch(function(e){console.error(e)})}document.getElementById("searchbar").addEventListener("keyup",e=>{let t=e.target.value,n=Array.from(document.querySelectorAll(".pokemon-list li")),o;for(o=0;o<n.length;o++)n[o].dataset.name.includes(t)?n[o].removeAttribute("hidden"):n[o].setAttribute("hidden",!0)});let i=document.getElementsByClassName("close")[0],a=document.getElementById("myModal");return i.onclick=function(){a.style.display="none"},window.onclick=function(e){e.target==a&&(a.style.display="none")},{add:t,getAll:n,addListItem:function e(t){let n=document.querySelector(".pokemon-list"),l=document.createElement("li"),i=document.createElement("button");l.dataset.name=t.name,i.innerText=t.name,i.classList.add("btn"),i.classList.add("btn-warning"),i.dataset.toggle="modal",i.dataset.target="#myModal",i.classList.add("pokemon-button"),l.classList.add("list-group-item"),l.appendChild(i),n.appendChild(l),i.addEventListener("click",function(e){o(t)})},loadList:function e(){return setTimeout(void(document.querySelector(".loadingimage").style.display="flex",window.addEventListener("load",()=>{})),1e4),fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){t({name:e.name,detailsUrl:e.url}),document.querySelector(".loadingimage").style.display="none",window.addEventListener("load",()=>{});document.querySelector(".pokemon-list").style.display="flex"})}).catch(function(e){console.error(e)})},loadDetails:l,showDetails:o}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})});